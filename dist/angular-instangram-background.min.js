var xjs;!function(t){"use strict";function n(){return{priority:0,transclude:!1,restrict:"EA",controller:t.InstagramBackgroundCtrl}}t.InstagramBackground=n}(xjs||(xjs={}));var xjs;!function(t){"use strict";var n=function(){function t(t,n,r){this.$element=t,this.$http=n,this.$interval=r,this.clientId=t.attr("client-id"),this.userId=t.attr("user-id"),this.init()}return t.prototype.init=function(){var n=this,r=t.FETCH_IMAGES_URL;r=r.replace(t.CLIENT_ID_PLACEHOLDER,this.clientId),r=r.replace(t.USER_ID_PLACEHOLDER,this.userId),this.$element.css("transition","background-image 4s ease-in-out");var s=this.$http.jsonp(r,null);s.success(function(t){n.setBackground(t),n.$interval(function(){n.setBackground(t)},1e4)})},t.prototype.setBackground=function(t){var n=this.random(0,t.data.length),r=t.data[n].images.standard_resolution.url,s=new Image,e=this;s.onload=function(){e.$element.css("background-image","url("+this.src+")")},s.src=r},t.prototype.random=function(t,n){return Math.floor(Math.random()*n)+t},t.$inject=["$element","$http","$interval"],t.USER_ID_PLACEHOLDER="##USER-ID##",t.CLIENT_ID_PLACEHOLDER="##CLIENT-ID##",t.FETCH_IMAGES_URL="https://api.instagram.com/v1/users/##USER-ID##/media/recent/?client_id=##CLIENT-ID##&callback=JSON_CALLBACK",t}();t.InstagramBackgroundCtrl=n}(xjs||(xjs={}));var xjs;!function(t){"use strict";angular.module("xjs",[]).directive("ib",t.InstagramBackground)}(xjs||(xjs={}));